@{
    ViewData["Title"] = "Bus Ticket Booking";
}

<!-- Styles & Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@400;600&display=swap" rel="stylesheet" />
<script src="https://kit.fontawesome.com/62e879b5ad.js" crossorigin="anonymous"></script>


<!-- jQuery & jQuery UI CSS -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css" />

<div class="container-fluid px-0" style="font-family: 'Libre Franklin', sans-serif;">
    <!-- Banner Section -->
    <div class="position-relative" style="background: url('/Admin/images/busbackgraound.jpg') no-repeat center center / cover; height: 480px;">
        <div class="position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0,0,0,0.4);"></div>

        <!-- Search Box -->
        <div class="position-absolute top-50 start-50 translate-middle w-75" style="z-index: 2;">
            <div class="bg-white rounded-4 shadow-lg p-4">
                <!-- Toggle Buttons -->
                <div class="d-flex justify-content-center gap-4 mb-4">
                    <input class="form-check-input" type="radio" name="tripType" id="oneWay" value="One Way" @( (Model?.TripType ?? "").Equals("One Way", StringComparison.OrdinalIgnoreCase) ? "checked" : "" ) />
                    <label class="form-check-label fw-semibold" for="oneWay">One Way</label>

                    <input class="form-check-input" type="radio" name="tripType" id="roundWay" value="Round Way" @( (Model?.TripType ?? "").Equals("Round Way", StringComparison.OrdinalIgnoreCase) ? "checked" : "" ) />
                    <label class="form-check-label fw-semibold" for="roundWay">Round Way</label>


                </div>

                <!-- Form -->
                <form id="busSearchForm" class="row g-3 align-items-end" method="get" action="/Bus/Results">
                    <!-- From -->
                    <div class="col-md-3">
                        <label class="form-label text-muted">From</label>
                        <div class="input-group">
                            <span class="input-group-text bg-white border-end-0">
                                <i class="bi bi-geo-alt-fill text-success"></i>
                            </span>
                            <input type="text" id="fromInput" name="from" class="form-control border-start-0" placeholder="Enter departure city" required />
                        </div>
                    </div>

                    <!-- To -->
                    <div class="col-md-3">
                        <label class="form-label text-muted">To</label>
                        <div class="input-group">
                            <span class="input-group-text bg-white border-end-0">
                                 <i class="bi bi-geo-alt-fill text-success"></i>
                            </span>
                            <input type="text" id="toInput" name="to" class="form-control border-start-0" placeholder="Enter destination city" required />
                        </div>
                    </div>

                    <!-- Journey Date -->
                    <div class="col-md-2">
                        <label class="form-label text-muted">Journey Date</label>
                        <input type="text" id="journeyDate" name="journeyDate" class="form-control" required readonly />
                    </div>

                    <!-- Return Date -->
                    <div class="col-md-2" id="returnDateDiv">
                        <label class="form-label text-muted">Return Date</label>
                        <input type="text" id="returnDate" name="returnDate" class="form-control" readonly />
                    </div>

                    <!-- Search Button -->
                    <div class="col-md-2 d-flex justify-content-end">
                        <button type="submit" class="btn btn-success btn-lg fw-semibold w-100">
                            <i class="bi bi-search me-1"></i> Search
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>



<!-- ✅ 3 EASY STEPS SECTION -->
<div class="text-center my-5">
    <h2 class="fw-bold text-success">Buy tickets <span class="text-dark">in 3 easy steps</span></h2>

    <div class="row justify-content-center mt-5">
        <!-- Step 1 -->
        <div class="col-md-3 col-10 text-center three-step-card">
            <div class="step-icon mb-3">
                <img src="/Admin/images/Booking a Bus Trip.png" alt="Search" class="img-fluid" style="height: 120px;" />
            </div>
            <h4 class="fw-bold">Search</h4>
            <p>Choose your origin, destination, journey dates and search for buses</p>
        </div>

        <!-- Step 2 -->
        <div class="col-md-3 col-10 text-center three-step-card">
            <div class="step-icon mb-3">
                <img src="/Admin/images/select.svg" alt="Select" class="img-fluid" style="height: 120px;" />
            </div>
            <h4 class="fw-bold">Select</h4>
            <p>Select your desired trip and choose your seats</p>
        </div>

        <!-- Step 3 -->
        <div class="col-md-3 col-10 text-center three-step-card">
            <div class="step-icon mb-3">
                <img src="/Admin/images/pay.svg" alt="Pay" class="img-fluid" style="height: 120px;" />
            </div>
            <h4 class="fw-bold">Pay</h4>
            <p>Pay by bank cards or mobile banking</p>
        </div>
    </div>
</div>
<!-- Trending Destinations -->
<div class="container my-5">
    <h2 class="fw-bold text-center mb-4">
        Discover <span class="text-success">Trending Destinations</span>
    </h2>

    <div class="row g-4">
        <!-- Chittagong -->
        <div class="col-12 col-md-6">
            <div class="card bg-dark text-white border-0 rounded-4 overflow-hidden">
                <img src="/Admin/images/Chittagong-1440x600.jpg" class="card-img" alt="Chittagong">
                <div class="card-img-overlay d-flex align-items-end p-3">
                    <h5 class="card-title fw-bold">Chittagong</h5>
                </div>
            </div>
        </div>

        <!-- Dhaka -->
        <div class="col-12 col-md-6">
            <div class="card bg-dark text-white border-0 rounded-4 overflow-hidden">
                <img src="/Admin/images/Dhaka-1440x600.jpg" class="card-img" alt="Dhaka">
                <div class="card-img-overlay d-flex align-items-end p-3">
                    <h5 class="card-title fw-bold">Dhaka</h5>
                </div>
            </div>
        </div>

        <!-- Rajshahi -->
        <div class="col-12 col-md-4">
            <div class="card bg-dark text-white border-0 rounded-4 overflow-hidden">
                <img src="/Admin/images/Rajshahi-1440x600.webp" class="card-img" alt="Rajshahi">
                <div class="card-img-overlay d-flex align-items-end p-3">
                    <h5 class="card-title fw-bold">Rajshahi</h5>
                </div>
            </div>
        </div>

        <!-- Rangpur -->
        <div class="col-12 col-md-4">
            <div class="card bg-dark text-white border-0 rounded-4 overflow-hidden">
                <img src="/Admin/images/Rangpur-1440x600.webp" class="card-img" alt="Rangpur">
                <div class="card-img-overlay d-flex align-items-end p-3">
                    <h5 class="card-title fw-bold">Rangpur</h5>
                </div>
            </div>
        </div>

        <!-- Sylhet -->
        <div class="col-12 col-md-4">
            <div class="card bg-dark text-white border-0 rounded-4 overflow-hidden">
                <img src="/Admin/images/Sylhet-1440x600.jpg" class="card-img" alt="Sylhet">
                <div class="card-img-overlay d-flex align-items-end p-3">
                    <h5 class="card-title fw-bold">Sylhet</h5>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Trusted Operators -->
<div class="container my-5">
    <div class="d-flex justify-content-between align-items-center flex-wrap gap-3 mb-3">
        <h2 class="fw-bold mb-0">
            More Than <span class="text-success">100+</span> Trusted Bus Operators
        </h2>
        <a href="#busSearchForm" class="btn btn-outline-success btn-lg">
            Book Your Ticket Now <i class="bi bi-arrow-right-circle ms-1"></i>
        </a>
    </div>

    <!-- Auto-moving logo slider -->
    <div class="logo-scroller rounded-4">
        <div class="logo-track">
            <!-- One set (duplicate is appended below for seamless loop) -->
            <div class="logo-card"><img src="/Admin/images/operators/Royal-Logo.webp" alt="Royal Coach"><span>Royal Coach</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/evergreen.png" alt="Evergreen"><span>Evergreen</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/emad.jpg" alt="Emad"><span>Emad</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/pabna.png" alt="Pabna Express"><span>Pabna Express</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/arafat.jpg" alt="Arafat Paribahan"><span>Arafat Paribahan</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/akota.jpeg" alt="Akota"><span>Akota</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/images.png" alt="Shyamoli"><span>Shyamoli</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/evergreen.png" alt="Green Line"><span>Green Line</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/1667929151-86-hanif-enterprise-head-office.png" alt="Hanif Enterprise"><span>Hanif Enterprise</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/ena-logo.jpg" alt="ENA Transport"><span>ENA Transport</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/nabil-bank-logo-png_seeklogo-613796.png" alt="Nabil Paribahan"><span>Nabil Paribahan</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/Shohagh.png" alt="Shohagh"><span>Shohagh</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/desh-travels.png" alt="Desh Travels"><span>Desh Travels</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/relax.png" alt="Relax Paribahan"><span>Relax Paribahan</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/soudia.png" alt="Soudia"><span>Soudia</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/sa-alam.png" alt="S. Alam Service"><span>S. Alam Service</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/poribahan-cp.png" alt="Rajib Paribahan"><span>Rajib Paribahan</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/orin.png" alt="Orin Travels"><span>Orin Travels</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/alhamra.png" alt="Alhamra"><span>Alhamra</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/manik.png" alt="Manik Express"><span>Manik Express</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/tungipara.png" alt="Sonar Bangla"><span>Sonar Bangla</span></div>

            <!-- DUPLICATE (for infinite loop) -->
            <div class="logo-card"><img src="/Admin/images/operators/Royal-Logo.webp" alt="Royal Coach"><span>Royal Coach</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/evergreen.png" alt="Evergreen"><span>Evergreen</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/emad.jpg" alt="Emad"><span>Emad</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/pabna.png" alt="Pabna Express"><span>Pabna Express</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/arafat.jpg" alt="Arafat Paribahan"><span>Arafat Paribahan</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/akota.jpeg" alt="Akota"><span>Akota</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/images.png" alt="Shyamoli"><span>Shyamoli</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/evergreen.png" alt="Green Line"><span>Green Line</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/1667929151-86-hanif-enterprise-head-office.png" alt="Hanif Enterprise"><span>Hanif Enterprise</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/ena-logo.jpg" alt="ENA Transport"><span>ENA Transport</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/nabil-bank-logo-png_seeklogo-613796.png" alt="Nabil Paribahan"><span>Nabil Paribahan</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/Shohagh.png" alt="Shohagh"><span>Shohagh</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/desh-travels.png" alt="Desh Travels"><span>Desh Travels</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/relax.png" alt="Relax Paribahan"><span>Relax Paribahan</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/soudia.png" alt="Soudia"><span>Soudia</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/sa-alam.png" alt="S. Alam Service"><span>S. Alam Service</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/poribahan-cp.png" alt="Rajib Paribahan"><span>Rajib Paribahan</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/orin.png" alt="Orin Travels"><span>Orin Travels</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/alhamra.png" alt="Alhamra"><span>Alhamra</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/manik.png" alt="Manik Express"><span>Manik Express</span></div>
            <div class="logo-card"><img src="/Admin/images/operators/tungipara.png" alt="Sonar Bangla"><span>Sonar Bangla</span></div>
        </div>
    </div>

   
</div>

<!-- RiadTrip Highlights -->
<div class="container my-5 text-center">
    <h2 class="fw-bold mb-5">
        <span class="text-success">10+ Million</span> Travellers Trusted RiadTrip
    </h2>

    <div class="row g-4">
        <!-- Feature 1 -->
        <div class="col-md-4">
            <div class="p-4 h-100">
                <div class="bg-success bg-opacity-10 text-success rounded-3 d-inline-flex align-items-center justify-content-center mb-3" style="width:80px; height:80px;">
                    <i class="bi bi-bus-front fs-1"></i>
                </div>
                <h5 class="fw-bold">Largest Ticketing Platform</h5>
                <div class="d-flex justify-content-center gap-3 flex-wrap mt-3">
                    <div><span class="text-success fw-bold">250M+</span><br><small class="text-muted">tickets</small></div>
                    <div><span class="text-success fw-bold">10M+</span><br><small class="text-muted">happy users</small></div>
                    <div><span class="text-success fw-bold">3000+</span><br><small class="text-muted">routes</small></div>
                    <div><span class="text-success fw-bold">1000+</span><br><small class="text-muted">partners</small></div>
                </div>
            </div>
        </div>

        <!-- Feature 2 -->
        <div class="col-md-4">
            <div class="p-4 h-100">
                <div class="bg-success bg-opacity-10 text-success rounded-3 d-inline-flex align-items-center justify-content-center mb-3" style="width:80px; height:80px;">
                    <i class="bi bi-clock-history fs-1"></i>
                </div>
                <h5 class="fw-bold">Quick & Easy Booking</h5>
                <p class="text-muted">Skip the queues with RiadTrip! Book bus tickets online from 100+ operators nationwide. Easily browse routes and reserve seats anytime.</p>
            </div>
        </div>

        <!-- Feature 3 -->
        <div class="col-md-4">
            <div class="p-4 h-100">
                <div class="bg-success bg-opacity-10 text-success rounded-3 d-inline-flex align-items-center justify-content-center mb-3" style="width:80px; height:80px;">
                    <i class="bi bi-headset fs-1"></i>
                </div>
                <h5 class="fw-bold">Fast Customer Support</h5>
                <p class="text-muted">Quick and responsive assistance to resolve your issues without delay — because your time matters to us at RiadTrip.</p>
            </div>
        </div>
    </div>
</div>
<!-- RiadTrip FAQ (Bootstrap only) -->
<section class="faq-section text-white" style="background:#1f7d5b; margin-bottom:0; padding-bottom:2rem;">
    <div class="container">
        <div class="row g-5 align-items-start">
            <!-- Left column -->
            <div class="col-lg-5">
                <h2 class="display-5 fw-bold lh-1 mb-3">
                    Got Questions ?<br>We've Got Answers
                </h2>
                <p class="lead opacity-75 mb-4">
                    We are always happy to hear from you. If you have any questions, suggestions or opinions,
                    please do not hesitate to reach out to us.
                </p>
                <a href="/Contact" class="btn btn-light btn-lg px-4 py-3 fw-semibold">Contact Us</a>
            </div>

            <!-- Right column -->
            <div class="col-lg-7">
                <div class="accordion accordion-flush" id="faqAccordion">
                    <!-- Q1 -->
                    <div class="accordion-item bg-transparent border-0 border-bottom border-light">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed bg-transparent text-white px-0 py-4"
                                    type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                How can I purchase a ticket from RiadTrip platform?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body ps-0 text-white-50">
                                Search your route, pick a bus, choose seats, enter passenger details, and pay via card or mobile banking.
                                Your e‑ticket is sent to email/SMS instantly.
                            </div>
                        </div>
                    </div>

                    <!-- Q2 -->
                    <div class="accordion-item bg-transparent border-0 border-bottom border-light">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed bg-transparent text-white px-0 py-4"
                                    type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                Is there any time frame to buy a ticket?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body ps-0 text-white-50">
                                Online bookings are open 24/7. Some operators close sales a few hours before departure—book early for best seats.
                            </div>
                        </div>
                    </div>

                    <!-- Q3 -->
                    <div class="accordion-item bg-transparent border-0 border-bottom border-light">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed bg-transparent text-white px-0 py-4"
                                    type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                What is the process of changing or cancelling a ticket?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body ps-0 text-white-50">
                                Options depend on the operator’s policy. Go to <em>My Bookings</em>, choose the trip, then select change/cancel.
                                Fees and cut‑off times may apply.
                            </div>
                        </div>
                    </div>

                    <!-- Q4 -->
                    <div class="accordion-item bg-transparent border-0 border-bottom border-light">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed bg-transparent text-white px-0 py-4"
                                    type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                How can I check RiadTrip’s offers?
                            </button>
                        </h2>
                        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body ps-0 text-white-50">
                                Visit the Offers page or see the homepage banners. Apply the promo code at checkout to get your discount.
                            </div>
                        </div>
                    </div>

                    <!-- Q5 -->
                    <div class="accordion-item bg-transparent border-0 border-bottom border-light">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed bg-transparent text-white px-0 py-4"
                                    type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                I cancelled / operator cancelled my trip and no refund yet. What should I do?
                            </button>
                        </h2>
                        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body ps-0 text-white-50">
                                Refunds typically take 3–7 business days depending on payment method. If delayed, contact support with your booking ID and we’ll escalate.
                            </div>
                        </div>
                    </div>

                </div><!-- /accordion -->
            </div>
        </div>
    </div>
</section>

<!-- Styles -->
<style>
    body {
        background-color: #f8f9fa;
    }

    .form-control:focus {
        box-shadow: none;
        border-color: #198754;
    }

    .btn-success {
        background-color: #198754;
        border: none;
    }

    .btn-success:hover {
        background-color: #157347;
    }

    .reset-btn {
        background-color: #fff;
        color: #00b34b;
        border: 2px solid #00b34b;
        font-weight: 600;
        border-radius: 8px;
        padding: 6px 20px;
        text-decoration: none;
    }

    .step-icon {
        font-size: 64px;
        color: #00b34b;
    }

    .three-step-card {
        transition: transform 0.3s ease;
    }

    .three-step-card:hover {
        transform: translateY(-5px);
    }

    .ui-menu .ui-menu-item-wrapper:hover,
    .ui-menu .ui-menu-item-wrapper.ui-state-active {
        background-color: #198754 !important; /* green */
        color: #fff !important;
        border: none !important;
    }

    .card-img {
        height: 300px;
        object-fit: cover;
        transition: transform .3s ease;
    }

    .card:hover .card-img {
        transform: scale(1.05);
    }

    .card-title {
        text-shadow: 0 2px 5px rgba(0,0,0,0.6);
    }

    .logo-scroller {
        overflow: hidden;
        background: #f3f6f9;
        padding: 16px 0;
    }

    .logo-track {
        display: flex;
        gap: 22px;
        width: max-content;
        animation: slide-logos 25s linear infinite;
    }

        .logo-track:hover {
            animation-play-state: paused;
        }

    .logo-card {
        width: 200px;
        height: 140px;
        background: #fff;
        border-radius: 16px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,.08);
    }

        .logo-card img {
            max-width: 90px;
            max-height: 60px;
            object-fit: contain;
            margin-bottom: 6px;
        }

        .logo-card span {
            font-size: 14px;
            font-weight: 600;
            color: #555;
        }

    /* ✅ Razor safe */
    @@keyframes slide-logos {
        from {
            transform: translateX(0);
        }

        to {
            transform: translateX(-50%);
        }
    }

   
    /* Make accordion background same green, remove blue border/focus */
    .faq-section .accordion-button {
        background: transparent !important;
        color: #fff !important;
        box-shadow: none !important;
        border: none !important;
        font-weight: 500;
        font-size: 1.1rem;
    }

    .faq-section {
        background: #1f7d5b; 
        margin-bottom: 0 !important;
        padding-bottom: 2rem; 
    }

    footer {
        background: #1f7d5b; /* same exact color */
        margin-top: 0 !important;
    }


    .faq-section .accordion-button:focus {
        box-shadow: none !important;
        border: none !important;
        outline: none !important;
    }

    .faq-section .accordion-item {
        background: transparent !important;
        border: none;
        border-bottom: 1px solid rgba(255,255,255,0.4); /* light divider like Shohoz */
    }

    .faq-section .accordion-body {
        color: rgba(255,255,255,0.75) !important;
        font-size: 0.95rem;
    }
</style>




@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css" />
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/v/bs5/dt-2.1.6/datatables.min.css" />
    <script src="https://cdn.datatables.net/v/bs5/dt-2.1.6/datatables.min.js"></script>
    <script>
        $(document).ready(function () {
                   var today = new Date();

        $("#journeyDate").datepicker({
            dateFormat: "yy-mm-dd",
            minDate: 0, // ✅ disables all past dates
            onSelect: function (selectedDate) {
                var selected = new Date(selectedDate);
                $("#returnDate").datepicker("option", "minDate", selected);
            }
        });

        $("#returnDate").datepicker({
            dateFormat: "yy-mm-dd",
            minDate: 0 // ✅ disables all past dates
        });

            // ✅ Show/hide return date
            function toggleReturnDate() {
                if ($('#oneWay').is(':checked')) {
                    $('#returnDateDiv').hide();
                    $('input[name="returnDate"]').val('');
                } else {
                    $('#returnDateDiv').show();
                }
            }
            toggleReturnDate();
            $('input[name="tripType"]').change(toggleReturnDate);

            // ✅ Autocomplete
            $("#fromInput, #toInput").autocomplete({
                source: function (request, response) {
                    $.ajax({
                        url: '/Bus/GetLocationSuggestions',
                        data: { term: request.term },
                        success: function (data) {
                            response(data);
                        }
                    });
                },
                minLength: 1
            });
                    $(".card").on("click", function () {
            const city = $(this).find(".card-title").text().trim();
            $("#toInput").val(city);
            $("html, body").animate({ scrollTop: $("#busSearchForm").offset().top - 100 }, 400);
            $("#toInput").focus();
        });
            $("#operatorTable").DataTable({
            pageLength: 6,
            lengthChange: false,
            ordering: true,
            info: true,
            searching: false,    
            language: {
                paginate: { previous: "Previous", next: "Next" }
            },
            columnDefs: [
                { targets: [1,2,3], className: "text-center" }
            ]
        });

        // Optional: clicking a logo focuses the search box (nice UX)
        $(".logo-card").on("click", function () {
            $("html, body").animate({ scrollTop: $("#busSearchForm").offset().top - 100 }, 400);
            $("#toInput").focus();
        });
            // ✅ Form submit
            $('#busSearchForm').submit(function (e) {
                e.preventDefault();

                const from = $('#fromInput').val().trim();
                const to = $('#toInput').val().trim();
                const journeyDate = $('input[name="journeyDate"]').val();
                const returnDate = $('input[name="returnDate"]').val();
                const tripType = $('input[name="tripType"]:checked').val();

                if (!from || !to || !journeyDate) {
                    Swal.fire('Error', 'Please fill out all required fields.', 'error');
                    return;
                }

                Swal.fire({
                    title: 'Searching...',
                    text: 'Please wait .',
                    icon: 'info',
                    allowOutsideClick: false,
                    didOpen: () => Swal.showLoading()
                });

                setTimeout(() => {
                    let url = `/Bus/Results?from=${encodeURIComponent(from)}&to=${encodeURIComponent(to)}&journeyDate=${journeyDate}`;
                           if (tripType && tripType.toLowerCase().includes("round") && returnDate) {
                            url += `&returnDate=${encodeURIComponent(returnDate)}`;
                             }

                    url += `&tripType=${tripType}`;
                    window.location.href = url;
                }, 1500);
            });
        });
    </script>
}
