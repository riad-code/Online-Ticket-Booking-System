@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewData["Title"] = "Admin Dashboard";
}
<style>
    .card:hover {
        transform: translateY(-4px);
        transition: all 0.3s ease;
        box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15);
        cursor: pointer;
        opacity: 0.95;
    }

    .card:active {
        transform: scale(0.98);
        box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,0.15);
    }

   
    .card-body:hover {
        color: #f8f9fa !important;
    }

    .card {
        -webkit-tap-highlight-color: rgba(0,0,0,0.1);
    }

</style>


<div class="container-fluid mt-4 fw-bold">
    <h2 class="mb-4 text-success">🎫 Admin Dashboard</h2>

    <!-- Stat Summary Cards -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card bg-info text-white shadow">
                <div class="card-body">
                    👥 Total Users
                    <h4 class="mt-2">@ViewData["TotalUsers"]</h4>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card bg-success text-white shadow">
                <div class="card-body">
                    🚌 Total Buses
                    <h4 class="mt-2">@ViewData["TotalBuses"]</h4>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card bg-warning text-dark shadow">
                <div class="card-body">
                    🛣️ Total Routes
                    <h4 class="card-text">@ViewData["TotalRoutes"]</h4>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card bg-danger text-white shadow">
                <div class="card-body">
                    🎟️ Tickets Sold Today
                    <h4 class="mt-2">@ViewData["TicketsSoldToday"]</h4>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Access Cards -->
    <div class="row mb-4">
        <div class="col-md-3">
            <a asp-controller="User" asp-action="Index" class="text-decoration-none">
                <div class="card text-white bg-primary shadow">
                    <div class="card-body text-center">
                        <i class="fas fa-users-cog fa-2x"></i><br />
                        Manage Users
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3">
            <a asp-controller="Bus" asp-action="Index" class="text-decoration-none">
                <div class="card text-white bg-secondary shadow">
                    <div class="card-body text-center">
                        <i class="fas fa-bus fa-2x"></i><br />
                        Manage Buses
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3">
            <a asp-controller="Route" asp-action="Index" class="text-decoration-none">
                <div class="card text-white bg-info shadow">
                    <div class="card-body text-center">
                        <i class="fas fa-road fa-2x"></i><br />
                        Manage Routes
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3">
            <a asp-controller="Ticket" asp-action="Index" class="text-decoration-none">
                <div class="card text-white bg-warning shadow">
                    <div class="card-body text-center">
                        <i class="fas fa-ticket-alt fa-2x"></i><br />
                        Manage Tickets
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3 mt-3">
            <a asp-controller="Report" asp-action="Index" class="text-decoration-none">
                <div class="card text-white bg-success shadow">
                    <div class="card-body text-center">
                        <i class="fas fa-chart-bar fa-2x"></i><br />
                        Sales Report
                    </div>
                </div>
            </a>
        </div>
    </div>

    <!-- Chart Section -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <div class="card shadow mb-4">
        <div class="card-header bg-success fw-bold text-white">
            📈 Tickets Sold vs Cancelled (Last 7 Days)
        </div>
        <div class="card-body">
            <canvas id="ticketChart" width="100%" height="30"></canvas>
        </div>
    </div>

</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ctx = document.getElementById('ticketChart').getContext('2d');
        const ticketChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
                datasets: [
                    {
                        label: 'Tickets Sold',
                        data: [30, 50, 40, 60, 35, 70, 45],
                        backgroundColor: '#28a745'
                    },
                    {
                        label: 'Tickets Cancelled',
                        data: [5, 8, 3, 6, 4, 7, 5],
                        backgroundColor: '#dc3545'
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'top' }
                }
            }
        });
    </script>
}
