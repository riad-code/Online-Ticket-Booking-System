@model ONLINE_TICKET_BOOKING_SYSTEM.Models.Air.FareClass
@{
    ViewData["Title"] = "Create Fare Class";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<h3>Create Fare Class</h3>
<form id="form" method="post" action="/FareClasses/Create">
    @Html.AntiForgeryToken()
    <div class="row g-3">
        <div class="col-md-6">
            <label class="form-label">Flight</label>
            <select asp-for="FlightScheduleId" class="form-select" asp-items="ViewBag.FlightScheduleId"></select>
        </div>
        <div class="col-md-3">
            <label class="form-label">Cabin</label>
            <select asp-for="Cabin" class="form-select" asp-items="ViewBag.Cabins"></select>
        </div>
        <div class="col-md-3">
            <label class="form-label">RBD</label>
            <input asp-for="Rbd" class="form-control" />
        </div>
        <div class="col-md-2">
            <label class="form-label">Seats</label>
            <input asp-for="SeatsAvailable" class="form-control" />
        </div>
        <div class="col-md-3">
            <label class="form-label">Base Fare</label>
            <input asp-for="BaseFare" class="form-control" />
        </div>
        <div class="col-md-3">
            <label class="form-label">Taxes & Fees</label>
            <input asp-for="TaxesAndFees" class="form-control" />
        </div>
        <div class="col-md-2">
            <label class="form-label">Currency</label>
            <input asp-for="Currency" class="form-control" />
        </div>
        <div class="col-md-4">
            <label class="form-label">Baggage</label>
            <input asp-for="Baggage" class="form-control" />
        </div>
        <div class="col-md-2">
            <label class="form-label d-block">Refundable</label>
            <input asp-for="Refundable" class="form-check-input" type="checkbox" />
        </div>
    </div>

    <div class="mt-3">
        <button class="btn btn-success" type="submit">Save</button>
        <a class="btn btn-secondary" href="/FareClasses/Index">Back</a>
    </div>
</form>

<script>
    $("#form").on("submit", function(e){
        e.preventDefault();
        Swal.fire({title:"Saving...", allowOutsideClick:false, didOpen:()=>Swal.showLoading()});
        $.post($(this).attr("action"), $(this).serialize())
        .done(()=> Swal.fire({icon:"success", title:"Saved"}).then(()=>location="/FareClasses/Index"))
        .fail(xhr=> Swal.fire({icon:"error", title:"Failed", text:xhr.responseText || "Error"}));
    });
</script>
